import{p as ve,r as a,o as e}from"./chunk-PVWAREVJ-YRV8ZPxw.js";import{u as J}from"./useQuery-DFIIJJNa.js";import{u as we}from"./QueryClientProvider-C_UI1Hd6.js";import{u as B}from"./useMutation-VDKZ7i0D.js";import{c as k}from"./createLucideIcon-DA111364.js";import{S as K,X as ke}from"./x-RidzGwys.js";import{M as ee}from"./mail-D3QsyG1B.js";import{S as se}from"./search-BtFUuhPz.js";import{E as Se}from"./eye-BF5fTl1u.js";import"./mutation-BsTtzjpv.js";/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=k("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=k("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=k("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=k("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=k("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=k("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=k("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Ee=({show:_,onClose:o,onSubmit:z,initialProductData:t})=>{const[x,h]=a.useState((t==null?void 0:t.name)||""),[b,F]=a.useState((t==null?void 0:t.description)||""),[d,R]=a.useState((t==null?void 0:t.price)||""),[c,i]=a.useState((t==null?void 0:t.image_url)||""),[I,S]=a.useState((t==null?void 0:t.category_slug)||""),[C,j]=a.useState((t==null?void 0:t.status)||"active"),[A,f]=a.useState((t==null?void 0:t.isOnSale)||!1),[q,u]=a.useState((t==null?void 0:t.limitedStock)||""),[y,M]=a.useState((t==null?void 0:t.isNew)||!1),[T,O]=a.useState((t==null?void 0:t.discountPercentage)||""),[N,n]=a.useState((t==null?void 0:t.isPreOrder)||!1),[E,v]=a.useState((t==null?void 0:t.hasFreeDelivery)||!1),Q=r=>{r.preventDefault(),z({name:x,description:b,price:parseFloat(d),imageUrl:c,category:I,status:C,isOnSale:A,limitedStock:parseInt(q)||null,isNew:y,discountPercentage:parseFloat(T)||null,isPreOrder:N,hasFreeDelivery:E}),h(""),F(""),R(""),i(""),S(""),j("active"),f(!1),u(""),M(!1),O(""),n(!1),v(!1)};return _?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t?"Edit Product":"Add New Product"}),e.jsx("button",{onClick:()=>{o(),h(""),F(""),R(""),i(""),S(""),j("active"),f(!1),u(""),M(!1),O(""),n(!1),v(!1)},className:"text-gray-400 hover:text-gray-600",children:e.jsx(ke,{size:24})})]}),e.jsxs("form",{onSubmit:Q,className:"p-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"admin-product-name",className:"block text-sm font-medium text-gray-700",children:"Product Name"}),e.jsx("input",{type:"text",id:"admin-product-name",value:x,onChange:r=>h(r.target.value),required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"admin-product-description",className:"block text-sm font-medium text-gray-700",children:"Description"}),e.jsx("textarea",{id:"admin-product-description",value:b,onChange:r=>F(r.target.value),required:!0,rows:"3",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"admin-product-price",className:"block text-sm font-medium text-gray-700",children:"Price (e.g., 199.99)"}),e.jsx("input",{type:"number",id:"admin-product-price",value:d,onChange:r=>R(r.target.value),required:!0,step:"0.01",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Image"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{id:"upload-from-device",type:"file",accept:"image/*",className:"hidden",onChange:r=>{if(r.target.files&&r.target.files[0]){const V=new FileReader;V.onload=L=>{i(L.target.result)},V.readAsDataURL(r.target.files[0])}}}),e.jsx("label",{htmlFor:"upload-from-device",className:"cursor-pointer bg-gray-100 text-gray-700 px-3 py-2 rounded-md font-medium hover:bg-gray-200 transition-colors",children:"Upload"}),e.jsx("button",{type:"button",onClick:()=>alert("Snap and upload functionality not yet implemented."),className:"bg-gray-100 text-gray-700 px-3 py-2 rounded-md font-medium hover:bg-gray-200 transition-colors",children:"Snap"}),e.jsx("div",{className:"flex-grow",children:e.jsx("input",{type:"url",placeholder:"Image URL",value:c,onChange:r=>i(r.target.value),className:"w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})})]}),c&&e.jsxs("div",{className:"mt-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Image Preview:"}),e.jsx("img",{src:c,alt:"Product Preview",className:"max-w-full h-32 object-cover rounded-md border border-gray-300"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"admin-product-category",className:"block text-sm font-medium text-gray-700",children:"Category"}),e.jsxs("select",{id:"admin-product-category",value:I,onChange:r=>S(r.target.value),required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[e.jsx("option",{value:"",children:"Select a category"}),e.jsx("option",{value:"new",children:"New"}),e.jsx("option",{value:"bags",children:"Bags"}),e.jsx("option",{value:"shoes",children:"Shoes"}),e.jsx("option",{value:"clothes",children:"Clothes"}),e.jsx("option",{value:"others",children:"Others"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"admin-product-status",className:"block text-sm font-medium text-gray-700",children:"Status"}),e.jsxs("select",{id:"admin-product-status",value:C,onChange:r=>j(r.target.value),required:!0,className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",children:[e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-4 border-t",children:[e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:A,onChange:r=>f(r.target.checked),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),e.jsx("span",{children:"On Sale"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:y,onChange:r=>M(r.target.checked),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),e.jsx("span",{children:"New Product"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:N,onChange:r=>n(r.target.checked),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),e.jsx("span",{children:"Pre Order"})]}),e.jsxs("label",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",checked:E,onChange:r=>v(r.target.checked),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),e.jsx("span",{children:"Free Delivery"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"admin-product-discount-percentage",className:"block text-sm font-medium text-gray-700",children:"Discount (%)"}),e.jsx("input",{type:"number",id:"admin-product-discount-percentage",value:T,onChange:r=>O(r.target.value),min:"0",max:"100",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",disabled:!A})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"admin-product-limited-stock",className:"block text-sm font-medium text-gray-700",children:"Limited Stock"}),e.jsx("input",{type:"number",id:"admin-product-limited-stock",value:q,onChange:r=>u(r.target.value),min:"0",className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"})]})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end gap-4",children:[e.jsx("button",{type:"button",onClick:()=>{o(),h(""),F(""),R(""),i(""),S(""),j("active"),f(!1),u(""),M(!1),O(""),n(!1),v(!1)},className:"px-4 py-2 border border-gray-300 rounded-md font-medium text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",className:"px-4 py-2 bg-[#6A0DAD] text-white rounded-md font-semibold hover:bg-purple-600 transition-colors",children:t?"Update Product":"Add Product"})]})]})]})}):null},Ke=ve(function(){const[o,z]=a.useState("overview"),[t,x]=a.useState(!1),[h,b]=a.useState(null),[F,d]=a.useState(""),[R,c]=a.useState(!1),[i,I]=a.useState(null),[S,C]=a.useState(!1),[j,A]=a.useState(!1),[f,q]=a.useState(!1),[u,y]=a.useState([]),[M,T]=a.useState(!1),[O,N]=a.useState(!1),[n,E]=a.useState(null),[v,Q]=a.useState([{id:1,reviewer:"John Doe",product:"Coffee Mug",rating:4,review:"Loved the mug..."},{id:2,reviewer:"Jane M.",product:"Red Bag",rating:5,review:"Stylish and sturdy"},{id:3,reviewer:"Paul K.",product:"Classic Blazer",rating:3,review:"Nice fit but..."}]),[r,V]=a.useState(!1),[L,re]=a.useState(null),[ae,le]=a.useState(""),[ne,de]=a.useState("all"),U=we();a.useEffect(()=>{const s=localStorage.getItem("adminToken"),l=localStorage.getItem("adminUser");s&&l?(V(!0),re(JSON.parse(l))):window.location.href="/admin/login"},[]);const p=()=>({Authorization:`Bearer ${localStorage.getItem("adminToken")}`,"Content-Type":"application/json"}),{data:m}=J({queryKey:["admin-stats"],queryFn:async()=>{var X,Y;const[s,l,g,H]=await Promise.all([fetch("/api/products"),fetch("/api/admin/orders",{headers:p()}),fetch("/api/admin/reviews",{headers:p()}),fetch("/api/newsletter")]),w=await s.json(),$=await l.json(),ye=await g.json(),Ne=await H.json();return{totalProducts:w.length,totalOrders:((X=$.orders)==null?void 0:X.length)||0,pendingReviews:((Y=ye.reviews)==null?void 0:Y.length)||0,newsletterSubscribers:Ne.length}},enabled:r}),{data:G=[],isLoading:ce}=J({queryKey:["admin-products"],queryFn:async()=>(await fetch("/api/products")).json(),enabled:r&&o==="products"}),{data:ze,isLoading:Fe}=J({queryKey:["admin-orders"],queryFn:async()=>(await fetch("/api/admin/orders",{headers:p()})).json(),enabled:r&&o==="orders"}),{data:Re,isLoading:Ie}=J({queryKey:["admin-reviews"],queryFn:async()=>(await fetch("/api/admin/reviews?status=pending",{headers:p()})).json(),enabled:r&&o==="reviews"});B({mutationFn:async({orderId:s,status:l})=>(await fetch(`/api/admin/orders/${s}`,{method:"PUT",headers:p(),body:JSON.stringify({status:l})})).json(),onSuccess:()=>{U.invalidateQueries(["admin-orders"])}}),B({mutationFn:async({reviewId:s,status:l})=>(await fetch(`/api/admin/reviews/${s}`,{method:"PUT",headers:p(),body:JSON.stringify({status:l})})).json(),onSuccess:()=>{U.invalidateQueries(["admin-reviews"])}});const oe=B({mutationFn:async s=>(await fetch("/api/products",{method:"POST",headers:p(),body:JSON.stringify(s)})).json(),onSuccess:s=>{U.invalidateQueries(["admin-products"]),d("Product added successfully!"),c(!0),setTimeout(()=>{x(!1),d("")},2e3)},onError:s=>{d(`Error adding product: ${s.message}`),c(!1)}}),ie=B({mutationFn:async({productId:s,productData:l})=>(await fetch(`/api/products/${s}`,{method:"PUT",headers:p(),body:JSON.JSON.stringify(l)})).json(),onSuccess:()=>{U.invalidateQueries(["admin-products"]),d("Product updated successfully!"),c(!0),setTimeout(()=>{x(!1),d("")},2e3)},onError:s=>{d(`Error updating product: ${s.message}`),c(!1)}}),me=s=>{h?ie.mutate({productId:h.id,productData:s}):oe.mutate(s)},W=s=>{console.log(`Exporting orders as ${s.toUpperCase()}...`),A(!1)},xe=s=>{I(s)},ue=()=>{u.length>0?(alert(`Deleting ${u.length} selected subscribers (mock)`),y([])):alert("No subscribers selected for deletion.")},he=()=>{C(!1),T(!0),setTimeout(()=>T(!1),3e3)},Z=s=>{const l=[{id:1,email:"user1@example.com",date:"2025-09-01"},{id:2,email:"user2@example.com",date:"2025-08-28"},{id:3,email:"user3@example.com",date:"2025-08-25"}];if(s==="csv"){const g="data:text/csv;charset=utf-8,"+["Email,Subscribed On",...l.map($=>`${$.email},${$.date}`)].join(`
`),H=encodeURI(g),w=document.createElement("a");w.setAttribute("href",H),w.setAttribute("download","subscribers.csv"),document.body.appendChild(w),w.click(),document.body.removeChild(w),alert("Exporting subscribers as CSV...")}else s==="pdf"&&alert("Exporting subscribers as PDF (mock)...");q(!1)},pe=s=>{Q(v.filter(l=>l.id!==s))},ge=s=>{y(l=>l.includes(s)?l.filter(g=>g!==s):[...l,s])},be=()=>{localStorage.removeItem("adminToken"),localStorage.removeItem("adminUser"),window.location.href="/admin/login"},je=s=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0}).format(s).replace("NGN","₦"),fe=s=>({pending:"bg-yellow-100 text-yellow-800",confirmed:"bg-blue-100 text-blue-800",processing:"bg-orange-100 text-orange-800",shipped:"bg-purple-100 text-purple-800",delivered:"bg-green-100 text-green-800",cancelled:"bg-red-100 text-red-800",approved:"bg-green-100 text-green-800",rejected:"bg-red-100 text-red-800",active:"bg-green-100 text-green-800",inactive:"bg-red-100 text-red-800"})[s]||"bg-gray-100 text-gray-800";return r?e.jsxs("div",{className:"min-h-screen bg-gray-100",children:[e.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{className:"flex-shrink-0",children:[e.jsx("h1",{className:"text-3xl font-great-vibes text-purple-500",children:"Damola's"}),e.jsx("p",{className:"uppercase tracking-widest font-poppins text-xs",children:"Essentials"})]})}),e.jsx("span",{className:"ml-2 text-sm text-gray-500",children:"Admin Dashboard"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{className:"text-sm text-gray-700",children:["Welcome, ",L==null?void 0:L.username]}),e.jsxs("button",{onClick:be,className:"flex items-center text-gray-600 hover:text-red-600 transition-colors",children:[e.jsx(Ae,{size:20,className:"mr-1"}),"Logout"]})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"border-b border-gray-200 mb-8",children:e.jsxs("nav",{className:"-mb-px flex space-x-4 flex-wrap",children:[" ",[{id:"overview",name:"Overview",icon:Ce},{id:"products",name:"Products",icon:te},{id:"orders",name:"Orders",icon:K},{id:"reviews",name:"Reviews",icon:P},{id:"newsletter",name:"Newsletter",icon:ee}].map(s=>e.jsxs("button",{onClick:()=>z(s.id),className:`flex items-center py-2 px-1 border-b-2 font-medium text-sm ${o===s.id?"border-[#6A0DAD] text-[#6A0DAD]":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(s.icon,{size:20,className:"mr-2"}),s.name]},s.id))]})}),o==="overview"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Dashboard Overview"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(te,{className:"text-[#6A0DAD]",size:32}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Products"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(m==null?void 0:m.totalProducts)||0})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(K,{className:"text-green-600",size:32}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(m==null?void 0:m.totalOrders)||0})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(P,{className:"text-orange-600",size:32}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Reviews"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(m==null?void 0:m.pendingReviews)||0})]})]})}),e.jsx("div",{className:"bg-white p-6 rounded-lg shadow",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ee,{className:"text-blue-600",size:32}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Newsletter Subscribers"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(m==null?void 0:m.newsletterSubscribers)||0})]})]})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("button",{onClick:()=>{b(null),d(""),c(!1),x(!0)},className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(D,{className:"text-[#6A0DAD] mr-3",size:24}),e.jsx("span",{className:"font-medium",children:"Add New Product"})]}),e.jsxs("button",{onClick:()=>z("orders"),className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(K,{className:"text-green-600 mr-3",size:24}),e.jsx("span",{className:"font-medium",children:"Manage Orders"})]}),e.jsxs("button",{onClick:()=>z("reviews"),className:"flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[e.jsx(P,{className:"text-orange-600 mr-3",size:24}),e.jsx("span",{className:"font-medium",children:"Review Moderation"})]})]})]})]}),o==="products"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Product Management"}),e.jsxs("button",{onClick:()=>{b(null),d(""),c(!1),x(!0)},className:"bg-[#6A0DAD] text-white px-4 py-2 rounded-lg font-semibold hover:bg-purple-600 transition-colors flex items-center",children:[e.jsx(D,{size:20,className:"mr-2"}),"Add Product"]})]}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(se,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"text",placeholder:"Search products...",value:ae,onChange:s=>le(s.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6A0DAD] focus:border-transparent"})]}),e.jsxs("select",{value:ne,onChange:s=>de(s.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6A0DAD] focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"inactive",children:"Inactive"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Category"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:ce?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"text-center py-4 text-gray-500",children:"Loading products..."})}):G.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"text-center py-4 text-gray-500",children:"No products found."})}):G.map(s=>{var l;return e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("img",{src:s.image_url,alt:s.name,className:"h-10 w-10 rounded-lg object-cover"}),e.jsxs("div",{className:"ml-4 max-w-xs",children:[" ",e.jsx("div",{className:"text-sm font-medium text-gray-900 break-words",children:s.name})," ",e.jsxs("div",{className:"text-sm text-gray-500 break-words",children:[(l=s.description)==null?void 0:l.substring(0,50),"..."]})," "]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 capitalize",children:s.category_name}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:je(s.price)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${fe(s.status)}`,children:s.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"text-[#6A0DAD] hover:text-purple-500",children:e.jsx(Se,{size:16})}),e.jsx("button",{onClick:()=>{b(s),d(""),c(!1),x(!0)},className:"text-blue-600 hover:text-blue-800",children:e.jsx(Me,{size:16})}),e.jsx("button",{className:"text-red-600 hover:text-red-800",children:e.jsx(Oe,{size:16})})]})})]},s.id)})})]})})})]}),o==="orders"&&e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Order Management"}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow mb-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(se,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),e.jsx("input",{type:"text",placeholder:"Search orders...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6A0DAD] focus:border-transparent"})]}),e.jsxs("select",{className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6A0DAD] focus:border-transparent",children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"delivered",children:"Delivered"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]}),e.jsxs("div",{className:"relative inline-block",children:[e.jsx("button",{onClick:()=>A(!j),className:"bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700",children:"Export PDF/CSV"}),j&&e.jsxs("div",{className:"absolute right-0 mt-2 w-24 bg-white border rounded shadow z-10",children:[e.jsx("button",{onClick:()=>W("pdf"),className:"w-full px-2 py-1 hover:bg-gray-100 text-left",children:"PDF"}),e.jsx("button",{onClick:()=>W("csv"),className:"w-full px-2 py-1 hover:bg-gray-100 text-left",children:"CSV"})]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow overflow-x-auto overflow-y-auto",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm text-left border",children:[e.jsx("thead",{className:"bg-gray-100 text-gray-600",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2",children:"Order ID"}),e.jsx("th",{className:"px-4 py-2",children:"Customer"}),e.jsx("th",{className:"px-4 py-2",children:"Product"}),e.jsx("th",{className:"px-4 py-2",children:"Amount"}),e.jsx("th",{className:"px-4 py-2",children:"Status"}),e.jsx("th",{className:"px-4 py-2",children:"Actions"})]})}),e.jsx("tbody",{children:[{id:"ORD-001",customer:"John Doe",product:"Classic Blazer",amount:"₦229",status:"Pending"},{id:"ORD-002",customer:"Jane Smith",product:"Coffee Mug",amount:"₦32",status:"Delivered"},{id:"ORD-003",customer:"Mike Johnson",product:"Casual Jeans",amount:"₦89",status:"Cancelled"}].map(s=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-2",children:s.id}),e.jsx("td",{className:"px-4 py-2",children:s.customer}),e.jsx("td",{className:"px-4 py-2",children:s.product}),e.jsx("td",{className:"px-4 py-2",children:s.amount}),e.jsx("td",{className:"px-4 py-2",children:e.jsx("span",{className:`px-2 py-1 rounded text-white text-xs ${s.status==="Pending"?"bg-yellow-500":s.status==="Delivered"?"bg-green-600":"bg-red-500"}`,children:s.status})}),e.jsx("td",{className:"px-4 py-2",children:e.jsx("button",{className:"text-purple-500 hover:underline text-sm",onClick:()=>xe(s),children:"View"})})]},s.id))})]})})})]}),o==="reviews"&&e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Review Moderation"}),e.jsxs("button",{onClick:()=>N(!0),className:"bg-purple-600 text-white px-4 py-2 rounded font-semibold hover:bg-purple-600 transition-colors flex items-center",children:[e.jsx(D,{size:20,className:"mr-2"}),"Add Review"]})]}),e.jsx("div",{className:"bg-white p-4 rounded-lg shadow mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("input",{type:"text",placeholder:"Search by product or reviewer",className:"col-span-2 border border-gray-300 rounded-lg p-2"}),e.jsxs("select",{className:"border border-gray-300 rounded-lg p-2",children:[e.jsx("option",{value:"",children:"All Ratings"}),e.jsx("option",{value:"5",children:"5 Stars"}),e.jsx("option",{value:"4",children:"4 Stars"}),e.jsx("option",{value:"3",children:"3 Stars"}),e.jsx("option",{value:"2",children:"2 Stars"}),e.jsx("option",{value:"1",children:"1 Star"})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reviewer"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rating"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Review"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.map(s=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.reviewer}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.product}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:"⭐".repeat(s.rating)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.review}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[e.jsx("button",{onClick:()=>{E(s),N(!0)},className:"text-gray-600 hover:text-gray-900 ml-4",children:"Edit"}),e.jsx("button",{onClick:()=>pe(s.id),className:"text-red-600 hover:text-red-900 ml-4",children:"Delete"})]})]},s.id))})]})})]}),o==="newsletter"&&e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Newsletter Management"}),e.jsxs("div",{className:"bg-white shadow rounded p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 flex-wrap flex-col md:flex-row md:space-x-1",children:[" ",e.jsx("h3",{className:"text-lg font-medium",children:"Subscribers"}),e.jsxs("div",{className:"flex flex-col md:flex-row space-y-2 md:space-x-1 md:space-y-0",children:[" ",e.jsx("input",{type:"text",placeholder:"Search email...",className:"border border-gray-300 rounded-lg p-2 w-full md:w-auto"})," ",e.jsx("button",{onClick:()=>C(!0),className:"bg-purple-600 text-white px-4 py-2 rounded",children:"Send Email"}),e.jsx("button",{onClick:ue,className:"bg-red-600 text-white px-4 py-2 rounded",children:"Delete Selected"}),e.jsxs("div",{className:"relative inline-block",children:[e.jsx("button",{onClick:()=>q(!f),className:"bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700",children:"Export"}),f&&e.jsxs("div",{className:"absolute right-0 mt-2 w-24 bg-white border rounded shadow z-10",children:[e.jsx("button",{onClick:()=>Z("pdf"),className:"w-full px-2 py-1 hover:bg-gray-100 text-left",children:"PDF"}),e.jsx("button",{onClick:()=>Z("csv"),className:"w-full px-2 py-1 hover:bg-gray-100 text-left",children:"CSV"})]})]})]})]}),e.jsxs("table",{className:"w-full text-sm text-left",children:[e.jsx("thead",{className:"bg-gray-100 text-gray-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-2",children:e.jsx("input",{type:"checkbox",onChange:s=>{s.target.checked?y([1,2,3]):y([])},checked:u.length===3})}),e.jsx("th",{className:"p-2",children:"Email"}),e.jsx("th",{className:"p-2",children:"Subscribed On"})]})}),e.jsx("tbody",{children:[{id:1,email:"user1@example.com",date:"2025-09-01"},{id:2,email:"user2@example.com",date:"2025-08-28"},{id:3,email:"user3@example.com",date:"2025-08-25"}].map(s=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"p-2",children:e.jsx("input",{type:"checkbox",checked:u.includes(s.id),onChange:()=>ge(s.id)})}),e.jsx("td",{className:"p-2",children:s.email}),e.jsx("td",{className:"p-2",children:s.date})]},s.id))})]}),[].length===0&&e.jsx("p",{className:"text-center text-gray-500 py-6",children:"No subscribers yet."})]})]})]}),e.jsx(Ee,{show:t,onClose:()=>{x(!1),b(null),d(""),c(!1)},onSubmit:me,initialProductData:h}),i&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-6 rounded w-96 shadow-lg",children:[e.jsx("h2",{className:"text-lg font-bold mb-4",children:"Order Details"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Order ID:"})," ",i.id]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Customer:"})," ",i.customer]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Product:"})," ",i.product]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Amount:"})," ",i.amount]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Status:"})," ",i.status]}),e.jsx("button",{onClick:()=>I(null),className:"mt-4 bg-gray-200 px-4 py-2 rounded hover:bg-gray-300",children:"Close"})]})}),S&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center",children:e.jsxs("div",{className:"bg-white p-6 rounded shadow w-[90%] max-w-md",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Send Newsletter"}),e.jsx("textarea",{placeholder:"Write your message...",className:"w-full border p-2 rounded mb-4",rows:5}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx("button",{onClick:()=>C(!1),className:"text-gray-500",children:"Cancel"}),e.jsx("button",{onClick:he,className:"bg-purple-600 text-white px-4 py-2 rounded",children:"Send"})]})]})}),M&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:e.jsxs("div",{className:"bg-white p-6 rounded shadow-lg",children:[e.jsx("h2",{className:"text-lg font-bold text-green-600 mb-2",children:"Email Sent!"}),e.jsx("p",{children:"Your newsletter has been sent successfully (mock)."})]})}),O&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex justify-center items-center z-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg w-[90%] max-w-md",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:n?"Edit Review":"Add New Review"}),e.jsx("input",{type:"text",placeholder:"Customer Name",defaultValue:n==null?void 0:n.reviewer,className:"w-full border p-2 mb-3 rounded"}),e.jsx("input",{type:"text",placeholder:"Product Name",defaultValue:n==null?void 0:n.product,className:"w-full border p-2 mb-3 rounded"}),e.jsxs("select",{defaultValue:n==null?void 0:n.rating,className:"w-full border p-2 mb-3 rounded",children:[e.jsx("option",{value:"",children:"Rating"}),e.jsx("option",{value:"1",children:"★☆☆☆☆"}),e.jsx("option",{value:"2",children:"★★☆☆☆"}),e.jsx("option",{value:"3",children:"★★★☆☆"}),e.jsx("option",{value:"4",children:"★★★★☆"}),e.jsx("option",{value:"5",children:"★★★★★"})]}),e.jsx("textarea",{rows:"4",placeholder:"Review Comment",defaultValue:n==null?void 0:n.review,className:"w-full border p-2 rounded mb-4"}),e.jsxs("div",{className:"flex justify-end",children:[e.jsx("button",{onClick:()=>{N(!1),E(null)},className:"mr-2",children:"Cancel"}),e.jsx("button",{onClick:()=>{N(!1),E(null)},children:n?"Update Review":"Add Review"})]})]})})]}):e.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#6A0DAD]"})})});export{Ke as default};
