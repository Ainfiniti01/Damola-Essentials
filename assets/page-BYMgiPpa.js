import{p as F,r as o,o as e}from"./chunk-PVWAREVJ-YRV8ZPxw.js";import{u as y}from"./useQuery-DFIIJJNa.js";import{u as S}from"./QueryClientProvider-C_UI1Hd6.js";import{u as _}from"./useMutation-VDKZ7i0D.js";import{X as z,S as f}from"./x-RidzGwys.js";import{M as P}from"./menu-zP96kswS.js";import{H as q}from"./heart-C4BnNYHP.js";import{c as X}from"./createLucideIcon-DA111364.js";import{a as p,T as R,S as E}from"./truck-Z2CytYDp.js";import{C as I}from"./clock--JFZV5J3.js";import"./mutation-BsTtzjpv.js";/**
 * @license lucide-react v0.358.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=X("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),J=F(function({params:b}){const a=b.id,[d,N]=o.useState(!1),[u,v]=o.useState(0),[i,c]=o.useState({customer_name:"",customer_email:"",rating:5,comment:""}),[g,x]=o.useState(!1),w=S(),{data:r,isLoading:A}=y({queryKey:["product",a],queryFn:async()=>{const s=await fetch(`/api/products/${a}`);if(!s.ok)throw new Error("Failed to fetch product");return s.json()},enabled:!!a}),{data:l=[]}=y({queryKey:["reviews",a],queryFn:async()=>{const s=await fetch(`/api/reviews?product_id=${a}&status=approved`);if(!s.ok)throw new Error("Failed to fetch reviews");return s.json()},enabled:!!a}),m=_({mutationFn:async s=>{const t=await fetch("/api/reviews",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!t.ok)throw new Error("Failed to submit review");return t.json()},onSuccess:()=>{w.invalidateQueries(["reviews",a]),c({customer_name:"",customer_email:"",rating:5,comment:""}),x(!1)}}),D=s=>{s.preventDefault(),m.mutate({...i,product_id:a})},k=(s="",t="")=>`https://wa.me/qr/U5TAX4CYW7QCF1?text=${encodeURIComponent(`Hi! I'm interested in pre-ordering "${s}" for ₦${t}. Can you provide more details about delivery and payment?`)}`,C=s=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0}).format(s).replace("NGN","₦"),j=()=>l.length===0?0:(l.reduce((t,n)=>t+n.rating,0)/l.length).toFixed(1);if(A)return e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#6A0DAD]"})});if(!r)return e.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Product Not Found"}),e.jsx("a",{href:"/products",className:"text-[#6A0DAD] font-semibold hover:text-purple-500",children:"← Back to Products"})]})});const h=r.image_url?[r.image_url]:[];return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("nav",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{className:"flex-shrink-0",children:[e.jsx("h1",{className:"text-3xl font-great-vibes text-purple-500",children:"Damola's"}),e.jsx("p",{className:"uppercase tracking-widest font-poppins text-xs",children:"Essentials"})]})}),e.jsx("div",{className:"hidden md:block",children:e.jsxs("div",{className:"ml-10 flex items-baseline space-x-8",children:[e.jsx("a",{href:"/",className:"text-gray-600 hover:text-[#6A0DAD] transition-colors",children:"Home"}),e.jsx("a",{href:"/products",className:"text-[#6A0DAD] font-medium",children:"Products"}),e.jsx("a",{href:"/about",className:"text-gray-600 hover:text-[#6A0DAD] transition-colors",children:"About"}),e.jsx("a",{href:"/contact",className:"text-gray-600 hover:text-[#6A0DAD] transition-colors",children:"Contact"})]})}),e.jsx("div",{className:"md:hidden",children:e.jsx("button",{onClick:()=>N(!d),className:"inline-flex items-center justify-center p-2 rounded-md text-gray-600 hover:text-[#6A0DAD] transition-colors",children:d?e.jsx(z,{size:24}):e.jsx(P,{size:24})})})]}),d&&e.jsx("div",{className:"md:hidden border-t border-gray-200",children:e.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1",children:[e.jsx("a",{href:"/",className:"block px-3 py-2 text-gray-600 hover:text-[#6A0DAD] transition-colors",children:"Home"}),e.jsx("a",{href:"/products",className:"block px-3 py-2 text-[#6A0DAD] font-medium",children:"Products"}),e.jsx("a",{href:"/about",className:"block px-3 py-2 text-gray-600 hover:text-[#6A0DAD] transition-colors",children:"About"}),e.jsx("a",{href:"/contact",className:"block px-3 py-2 text-gray-600 hover:text-[#6A0DAD] transition-colors",children:"Contact"})]})})]})}),e.jsx("div",{className:"bg-gray-50 py-4",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx("a",{href:"/",className:"text-gray-500 hover:text-[#6A0DAD]",children:"Home"}),e.jsx("span",{className:"text-gray-400",children:"/"}),e.jsx("a",{href:"/products",className:"text-gray-500 hover:text-[#6A0DAD]",children:"Products"}),e.jsx("span",{className:"text-gray-400",children:"/"}),e.jsx("span",{className:"text-gray-900 capitalize",children:r.category_name}),e.jsx("span",{className:"text-gray-400",children:"/"}),e.jsx("span",{className:"text-gray-900 truncate",children:r.name})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"grid lg:grid-cols-2 gap-12",children:[e.jsxs("div",{children:[e.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden mb-4",children:e.jsx("img",{src:h[u]||r.image_url,alt:r.name,className:"w-full h-full object-cover"})}),h.length>1&&e.jsx("div",{className:"grid grid-cols-4 gap-4",children:h.map((s,t)=>e.jsx("button",{onClick:()=>v(t),className:`aspect-square bg-gray-100 rounded-lg overflow-hidden border-2 ${u===t?"border-[#6A0DAD]":"border-transparent"}`,children:e.jsx("img",{src:s,alt:`${r.name} ${t+1}`,className:"w-full h-full object-cover"})},t))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:r.name}),e.jsxs("p",{className:"text-lg text-gray-600 capitalize",children:["Category: ",r.category_name]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{className:"p-2 text-gray-400 hover:text-red-500 transition-colors",children:e.jsx(q,{size:24})}),e.jsx("button",{className:"p-2 text-gray-400 hover:text-[#6A0DAD] transition-colors",children:e.jsx($,{size:24})})]})]}),r.labels&&Array.isArray(r.labels)&&r.labels.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:r.labels.map((s,t)=>e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${s.includes("Sale")||s.includes("%")?"bg-red-500 text-white":s==="New"?"bg-green-500 text-white":s==="Limited Stock"?"bg-orange-500 text-white":"bg-[#FFC700] text-black"}`,children:s},t))}),e.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[e.jsx("p",{className:"text-4xl font-bold text-[#6A0DAD]",children:C(r.price)}),l.length>0&&e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex text-[#FFC700] mr-2",children:[...Array(5)].map((s,t)=>e.jsx(p,{size:16,fill:t<Math.floor(j())?"currentColor":"none"},t))}),e.jsxs("span",{className:"text-sm text-gray-600",children:[j()," (",l.length," reviews)"]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Description"}),e.jsx("p",{className:"text-gray-600 leading-relaxed",children:r.description||"No description available for this product."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg",children:[e.jsx(R,{className:"text-[#6A0DAD]",size:24}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Fast Delivery"}),e.jsx("p",{className:"text-sm text-gray-600",children:"14-21 days"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg",children:[e.jsx(E,{className:"text-[#6A0DAD]",size:24}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Quality Assured"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Verified products"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg",children:[e.jsx(I,{className:"text-[#6A0DAD]",size:24}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:"Pre-Order"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Limited stock"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("a",{href:k(r.name,r.price),target:"_blank",rel:"noopener noreferrer",className:"w-full bg-[#6A0DAD] text-white py-4 px-8 rounded-lg font-semibold hover:bg-purple-600 transition-colors inline-flex items-center justify-center text-lg",children:[e.jsx(f,{className:"mr-3",size:24}),"Pre-Order via WhatsApp"]}),e.jsx("p",{className:"text-center text-sm text-gray-500",children:"Secure payment • 14-21 day delivery • Quality guaranteed"})]})]})]}),e.jsxs("div",{className:"mt-16",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Customer Reviews"}),e.jsx("button",{onClick:()=>x(!g),className:"bg-[#FFC700] text-black px-6 py-2 rounded-lg font-semibold hover:bg-yellow-400 transition-colors",children:"Write a Review"})]}),g&&e.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Share Your Experience"}),e.jsxs("form",{onSubmit:D,className:"space-y-4",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name *"}),e.jsx("input",{type:"text",required:!0,value:i.customer_name,onChange:s=>c(t=>({...t,customer_name:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6A0DAD] focus:border-transparent",placeholder:"Your name"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:i.customer_email,onChange:s=>c(t=>({...t,customer_email:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6A0DAD] focus:border-transparent",placeholder:"your@email.com"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rating *"}),e.jsx("div",{className:"flex space-x-1",children:[1,2,3,4,5].map(s=>e.jsx("button",{type:"button",onClick:()=>c(t=>({...t,rating:s})),className:`p-1 ${s<=i.rating?"text-[#FFC700]":"text-gray-300"}`,children:e.jsx(p,{size:24,fill:"currentColor"})},s))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comment *"}),e.jsx("textarea",{required:!0,rows:4,value:i.comment,onChange:s=>c(t=>({...t,comment:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#6A0DAD] focus:border-transparent resize-none",placeholder:"Share your experience with this product..."})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsx("button",{type:"submit",disabled:m.isLoading,className:"bg-[#6A0DAD] text-white px-6 py-2 rounded-lg font-semibold hover:bg-purple-600 transition-colors disabled:opacity-50",children:m.isLoading?"Submitting...":"Submit Review"}),e.jsx("button",{type:"button",onClick:()=>x(!1),className:"bg-gray-300 text-gray-700 px-6 py-2 rounded-lg font-semibold hover:bg-gray-400 transition-colors",children:"Cancel"})]})]})]}),l.length>0?e.jsx("div",{className:"space-y-6",children:l.map(s=>e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-[#6A0DAD] text-white rounded-full flex items-center justify-center font-semibold",children:s.customer_name.charAt(0).toUpperCase()}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900",children:s.customer_name}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"flex text-[#FFC700]",children:[...Array(s.rating)].map((t,n)=>e.jsx(p,{size:14,fill:"currentColor"},n))}),e.jsx("span",{className:"text-sm text-gray-500",children:new Date(s.created_at).toLocaleDateString()})]})]})]})}),e.jsx("p",{className:"text-gray-600",children:s.comment})]},s.id))}):e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-600 mb-4",children:"No reviews yet. Be the first to review this product!"})})]})]}),e.jsx("footer",{className:"bg-gray-900 text-white py-12 mt-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{className:"flex-shrink-0",children:[e.jsx("h1",{className:"text-3xl font-great-vibes text-purple-500",children:"Damola's"}),e.jsx("p",{className:"uppercase tracking-widest font-poppins text-xs",children:"Essentials"})]})})," ",e.jsx("br",{}),e.jsx("p",{className:"text-gray-300",children:"Your trusted partner for premium fashion and lifestyle products."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-4",children:"Quick Links"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx("a",{href:"/",className:"text-gray-300 hover:text-white transition-colors",children:"Home"})}),e.jsx("li",{children:e.jsx("a",{href:"/products",className:"text-gray-300 hover:text-white transition-colors",children:"Products"})}),e.jsx("li",{children:e.jsx("a",{href:"/about",className:"text-gray-300 hover:text-white transition-colors",children:"About"})}),e.jsx("li",{children:e.jsx("a",{href:"/contact",className:"text-gray-300 hover:text-white transition-colors",children:"Contact"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-4",children:"Categories"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx("a",{href:"/products?category=shoes",className:"text-gray-300 hover:text-white transition-colors",children:"Shoes"})}),e.jsx("li",{children:e.jsx("a",{href:"/products?category=bags",className:"text-gray-300 hover:text-white transition-colors",children:"Bags"})}),e.jsx("li",{children:e.jsx("a",{href:"/products?category=clothes",className:"text-gray-300 hover:text-white transition-colors",children:"Clothes"})}),e.jsx("li",{children:e.jsx("a",{href:"/products?category=others",className:"text-gray-300 hover:text-white transition-colors",children:"Accessories"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-4",children:"Contact Info"}),e.jsx("p",{className:"text-gray-300 mb-2",children:"WhatsApp: +234 XXX XXX XXXX"}),e.jsx("p",{className:"text-gray-300 mb-4",children:"Email: info@damolasessentials.com"}),e.jsxs("a",{href:"https://wa.me/qr/U5TAX4CYW7QCF1",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center bg-[#FFC700] text-black px-4 py-2 rounded-lg font-semibold hover:bg-yellow-400 transition-colors",children:[e.jsx(f,{className:"mr-2",size:16}),"Pre-Order Now"]})]})]}),e.jsx("div",{className:"border-t border-gray-700 mt-8 pt-8 text-center",children:e.jsx("p",{className:"text-gray-300",children:"© 2025 Damola's Essentials. All rights reserved."})})]})})]})});export{J as default};
